\chapter{Files From Directory {\textit{nc\_test4}}}

\begin{table}[H]
\centering
\begin{tabular}{|l|c|c|c|c|c|}
\hline
Filename & Compatible & Almost      & Not Compatible  & Almost        & Incompatible \\
         &            & Compatible  & Yet             & Incompatible  &               \\ \hline \hline
cdm\_sea\_soundings.c   &   &   &   &   &   \\ \hline
test\_szip.c   &   &   &   &   &   \\ \hline
tst\_atts1.c   &   &   &   &   &   \\ \hline
tst\_atts2.c   &   &   &   &   &   \\ \hline
tst\_atts3.c   &   &   &   &   &   \\ \hline
tst\_atts.c   &   &   &   &   &   \\ \hline
tst\_attsperf.c   &   &   &   &   &   \\ \hline
tst\_bug324.c   &   &   &   &   &   \\ \hline
tst\_camrun.c   &   &   &   &   &   \\ \hline
tst\_chunks2.c   &   &   &   &   &   \\ \hline
tst\_chunks3.c   &   &   &   &   &   \\ \hline
tst\_chunks.c   &   &   &   &   &   \\ \hline
tst\_compounds2.c   &   &   &   &   &   \\ \hline
tst\_compounds3.c   &   &   &   &   &   \\ \hline
tst\_converts2.c   &   &   &   &   &   \\ \hline
tst\_converts.c   &   &   &   &   &   \\ \hline
tst\_coords2.c   &   &   &   &   &   \\ \hline
tst\_coords3.c   &   &   &   &   &   \\ \hline
tst\_coords.c   &   &   &   &   &   \\ \hline
tst\_create\_files.c   &   &   &   &   &   \\ \hline
tst\_dims2.c   &   &   &   &   &   \\ \hline
tst\_dims3.c   &   &   &   &   &   \\ \hline
tst\_empty\_vlen\_unlim.c   &   &   &   &   &   \\ \hline
tst\_endian\_fill.c   &   &   &   &   &   \\ \hline
tst\_enums.c   &   &   &   &   &   \\ \hline
tst\_files4.c   &   &   &   &   &   \\ \hline
tst\_files6.c   &   &   &   &   &   \\ \hline
tst\_files.c   &   &   &   &   &   \\ \hline
tst\_fill\_attr\_vanish.c   &   &   &   &   &   \\ \hline
tst\_fillbug.c   &   &   &   &   &   \\ \hline
tst\_fills2.c   &   &   &   &   &   \\ \hline
tst\_fills.c   &   &   &   &   &   \\ \hline
tst\_grps2.c   &   &   &   &   &   \\ \hline
tst\_grps.c   &   &   &   &   &   \\ \hline
tst\_h5\_endians.c   &   &   &   &   &   \\ \hline
tst\_hdf5\_file\_compat.c   &   &   &   &   &   \\ \hline
tst\_h\_refs.c   &   &   &   &   &   \\ \hline
tst\_h\_scalar.c   &   &   &   &   &   \\ \hline
tst\_h\_strbug.c   &   &   &   &   &   \\ \hline
tst\_interops5.c   &   &   &   &   &   \\ \hline
tst\_interops6.c   &   &   &   &   &   \\ \hline
tst\_interops.c   &   &   &   &   &   \\ \hline
tst\_large2.c   &   &   &   &   &   \\ \hline
tst\_large.c   &   &   &   &   &   \\ \hline
\end{tabular}
\caption{}
\end{table}

\clearpage

\begin{table}[H]
\centering
\begin{tabular}{|l|c|c|c|c|c|}
\hline
Filename & Compatible & Almost      & Not Compatible  & Almost        & Incompatible \\
         &            & Compatible  & Yet             & Incompatible  &               \\ \hline \hline
tst\_mem.c   &   &   &   &   &   \\ \hline
tst\_mode.c   &   &   &   &   &   \\ \hline
tst\_opaques.c   &   &   &   &   &   \\ \hline
tst\_parallel.c   &   &   &   &   &   \\ \hline
tst\_put\_vars.c   &   &   &   &   &   \\ \hline
tst\_rename2.c   &   &   &   &   &   \\ \hline
tst\_rename.c   &   &   &   &   &   \\ \hline
tst\_simplerw\_coll\_r.c   &   &   &   &   &   \\ \hline
tst\_strings2.c   &   &   &   &   &   \\ \hline
tst\_strings.c   &   &   &   &   &   \\ \hline
tst\_sync.c   &   &   &   &   &   \\ \hline
tst\_types.c   &   &   &   &   &   \\ \hline
tst\_udf.c   &   &   &   &   &   \\ \hline
tst\_unlim\_vars.c   &   &   &   &   &   \\ \hline
tst\_utf8.c   &   &   &   &   &   \\ \hline
tst\_v2.c   &   &   &   &   &   \\ \hline
tst\_varms.c   &   &   &   &   &   \\ \hline
tst\_vars2.c   &   &   &   &   &   \\ \hline
tst\_vars3.c   &   &   &   &   &   \\ \hline
tst\_vars4.c   &   &   &   &   &   \\ \hline
tst\_vars.c   &   &   &   &   &   \\ \hline
tst\_vl.c   &   &   &   &   &   \\ \hline
h5testszip.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_atts\_string\_rewrite.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_elatefill.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_files3.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_files5.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_filterparser.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_mpi\_parallel.c   & $\checkmark$  &   &   &   &   \\ \hline
tst\_rehash.c   & $\checkmark$  &   &   &   &   \\ \hline
t\_type.c   & $\checkmark$ &   &   &   &   \\ \hline
\end{tabular}
\caption{}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|l|}
\hline
Filename & Justification \\ \hline \hline
cdm\_sea\_soundings.c   & ESDM does not support compound datatypes from NetCDF          \\ \hline
test\_szip.c   &  NetCDF Feature not supported with ESDM         \\ \hline
tst\_atts1.c   &           \\ \hline
tst\_atts2.c   &           \\ \hline
tst\_atts3.c   &           \\ \hline
tst\_atts.c   &           \\ \hline
tst\_attsperf.c   &           \\ \hline
tst\_bug324.c   &           \\ \hline
tst\_camrun.c   &           \\ \hline
tst\_chunks2.c   &  NetCDF Feature not supported with ESDM         \\ \hline
tst\_chunks3.c   &  NetCDF Feature not supported with ESDM         \\ \hline
tst\_chunks.c   &  NetCDF Feature not supported with ESDM         \\ \hline
tst\_compounds2.c   &  ESDM does not support compound datatypes from NetCDF         \\ \hline
tst\_compounds3.c   &  ESDM does not support compound datatypes from NetCDF         \\ \hline
tst\_converts2.c   &           \\ \hline
tst\_converts.c   &           \\ \hline
tst\_coords2.c   &           \\ \hline
tst\_coords3.c   &           \\ \hline
tst\_coords.c   &           \\ \hline
tst\_create\_files.c   &           \\ \hline
tst\_dims2.c   &       \\ \hline
tst\_dims3.c   &       \\ \hline
tst\_empty\_vlen\_unlim.c   &       \\ \hline
tst\_endian\_fill.c   &       \\ \hline
tst\_enums.c   &       \\ \hline
tst\_files4.c   &       \\ \hline
tst\_files6.c   &       \\ \hline
tst\_files.c   &       \\ \hline
tst\_fill\_attr\_vanish.c   &       \\ \hline
tst\_fillbug.c   &       \\ \hline
tst\_fills2.c   &       \\ \hline
tst\_fills.c   &       \\ \hline
tst\_grps2.c   &   NOT IMPLEMENTED YET    \\ \hline
tst\_grps.c   &    NOT IMPLEMENTED YET   \\ \hline
tst\_h5\_endians.c   &   NOT IMPLEMENTED YET    \\ \hline
tst\_hdf5\_file\_compat.c   &       \\ \hline
tst\_h\_refs.c   &       \\ \hline
tst\_h\_scalar.c   &       \\ \hline
tst\_h\_strbug.c   &       \\ \hline
tst\_interops5.c   &       \\ \hline
tst\_interops6.c   &       \\ \hline
tst\_interops.c   &       \\ \hline
tst\_large2.c   &       \\ \hline
tst\_large.c   &       \\ \hline
\end{tabular}
\caption{}
\end{table}

\clearpage

\begin{table}[H]
\centering
\begin{tabular}{|l|l|}
\hline
Filename & Justification \\ \hline \hline
tst\_mem.c   &       \\ \hline
tst\_mode.c   &   NOT IMPLEMENTED YET    \\ \hline
tst\_opaques.c   &  NOT IMPLEMENTED YET     \\ \hline
tst\_parallel.c   &       \\ \hline
tst\_put\_vars.c   &       \\ \hline
tst\_rename2.c   &       \\ \hline
tst\_rename.c   &       \\ \hline
tst\_simplerw\_coll\_r.c   &       \\ \hline
tst\_strings2.c   &       \\ \hline
tst\_strings.c   &       \\ \hline
tst\_sync.c   &       \\ \hline
tst\_types.c   &  NOT IMPLEMENTED YET     \\ \hline
tst\_udf.c   &       \\ \hline
tst\_unlim\_vars.c   &       \\ \hline
tst\_utf8.c   &       \\ \hline
tst\_v2.c   &       \\ \hline
tst\_varms.c   &       \\ \hline
tst\_vars2.c   &       \\ \hline
tst\_vars3.c   &       \\ \hline
tst\_vars4.c   &       \\ \hline
tst\_vars.c   &       \\ \hline
tst\_vl.c   &   NOT IMPLEMENTED YET    \\ \hline
h5testszip.c   & Working   \\ \hline
tst\_atts\_string\_rewrite.c   & Working   \\ \hline
tst\_elatefill.c   & Working   \\ \hline
tst\_files3.c   & Working   \\ \hline
tst\_files5.c   & Working   \\ \hline
tst\_filterparser.c   & Working   \\ \hline
tst\_mpi\_parallel.c   & Working   \\ \hline
tst\_rehash.c   & Working   \\ \hline
t\_type.c   & Working   \\ \hline
\end{tabular}
\caption{Additional comments on ESDM and NETCDF compatibility}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|c|c|c|c|}
\hline
File & Not Tested & Not Working Build & Not Working Run & Working \\ \hline \hline
bigmeta.c   & $\checkmark$  &   &   &    \\ \hline
openbigmeta.c & $\checkmark$   &   &   &    \\ \hline
bm\_file.c   &  & $\checkmark$  &   &    \\ \hline
bm\_many\_atts.c   &  & $\checkmark$  &   &    \\ \hline
bm\_many\_objs.c   &  & $\checkmark$  &   &    \\ \hline
bm\_netcdf4\_recs.c   &  & $\checkmark$  &   &    \\ \hline
ref\_bzip2.c   &  & $\checkmark$  &   &    \\ \hline
test\_filter.c   &  & $\checkmark$  &   &    \\ \hline
test\_filter\_misc.c   &  & $\checkmark$  &   &    \\ \hline
tst\_ar4\_3d.c   &  & $\checkmark$  &   &    \\ \hline
tst\_ar4\_4d.c   &  & $\checkmark$  &   &    \\ \hline
tst\_ar4.c   &  & $\checkmark$  &   &    \\ \hline
tst\_files2.c   &  & $\checkmark$  &   &    \\ \hline
tst\_h\_many\_atts.c   &  & $\checkmark$  &   &    \\ \hline
tst\_knmi.c   &  & $\checkmark$  &   &    \\ \hline
tst\_put\_vars\_two\_unlim\_dim.c   &  & $\checkmark$  &   &    \\ \hline
tst\_utils.c   &  & $\checkmark$  &   &    \\ \hline
tst\_compounds.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_dims.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_interops4.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_nc4perf.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_parallel3.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_parallel4.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_parallel5.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_xplatform2.c   &  &   &  $\checkmark$ &    \\ \hline
tst\_xplatform.c   &  &   &  $\checkmark$ &    \\ \hline
\end{tabular}
\caption{List of nc\_test4 files.}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|c|c|c|c|}
\hline
File & Not Tested & Not Working Build & Not Working Run & Working \\ \hline \hline
renamegroup.c   &  &   &   & $\checkmark$    \\ \hline
test\_szip.c   &  &   &   & $\checkmark$    \\ \hline
tst\_atts1.c   &  &   &   & $\checkmark$    \\ \hline
tst\_atts2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_atts3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_atts.c   &  &   &   & $\checkmark$    \\ \hline
tst\_attsperf.c   &  &   &   & $\checkmark$    \\ \hline
tst\_atts\_string\_rewrite.c   &  &   &   & $\checkmark$    \\ \hline
tst\_bug324.c   &  &   &   & $\checkmark$    \\ \hline
tst\_camrun.c   &  &   &   & $\checkmark$    \\ \hline
tst\_chunks2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_chunks3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_chunks.c   &  &   &   & $\checkmark$    \\ \hline
tst\_compounds2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_compounds3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_converts2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_converts.c   &  &   &   & $\checkmark$    \\ \hline
tst\_coords2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_coords3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_coords.c   &  &   &   & $\checkmark$    \\ \hline
tst\_create\_files.c   &  &   &   & $\checkmark$    \\ \hline
tst\_dims2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_dims3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_elatefill.c   &  &   &   & $\checkmark$    \\ \hline
tst\_empty\_vlen\_unlim.c   &  &   &   & $\checkmark$    \\ \hline
tst\_endian\_fill.c   &  &   &   & $\checkmark$    \\ \hline
tst\_enums.c   &  &   &   & $\checkmark$    \\ \hline
tst\_files3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_files4.c   &  &   &   & $\checkmark$    \\ \hline
tst\_files5.c   &  &   &   & $\checkmark$    \\ \hline
tst\_files6.c   &  &   &   & $\checkmark$    \\ \hline
tst\_files.c   &  &   &   & $\checkmark$    \\ \hline
tst\_fill\_attr\_vanish.c   &  &   &   & $\checkmark$    \\ \hline
tst\_fillbug.c   &  &   &   & $\checkmark$    \\ \hline
tst\_fills2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_fills.c   &  &   &   & $\checkmark$    \\ \hline
tst\_filterparser.c   &  &   &   & $\checkmark$    \\ \hline
tst\_grps2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_grps.c   &  &   &   & $\checkmark$    \\ \hline
tst\_h5\_endians.c   &  &   &   & $\checkmark$    \\ \hline
tst\_hdf5\_file\_compat.c   &  &   &   & $\checkmark$    \\ \hline
tst\_h\_refs.c   &  &   &   & $\checkmark$    \\ \hline
tst\_h\_scalar.c   &  &   &   & $\checkmark$    \\ \hline
tst\_h\_strbug.c   &  &   &   & $\checkmark$    \\ \hline
tst\_interops5.c   &  &   &   & $\checkmark$    \\ \hline
tst\_interops6.c   &  &   &   & $\checkmark$    \\ \hline
tst\_interops.c   &  &   &   & $\checkmark$    \\ \hline
tst\_large2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_large.c   &  &   &   & $\checkmark$    \\ \hline
tst\_mem.c   &  &   &   & $\checkmark$    \\ \hline
\end{tabular}
\caption{List of nc\_test4 files.}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|c|c|c|c|}
\hline
File & Not Tested & Not Working Build & Not Working Run & Working \\ \hline \hline
tst\_mode.c   &  &   &   & $\checkmark$    \\ \hline
tst\_mpi\_parallel.c   &  &   &   & $\checkmark$    \\ \hline
tst\_opaques.c   &  &   &   & $\checkmark$    \\ \hline
tst\_parallel.c   &  &   &   & $\checkmark$    \\ \hline
tst\_put\_vars.c   &  &   &   & $\checkmark$    \\ \hline
tst\_rehash.c   &  &   &   & $\checkmark$    \\ \hline
tst\_rename2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_rename.c   &  &   &   & $\checkmark$    \\ \hline
tst\_simplerw\_coll\_r.c   &  &   &   & $\checkmark$    \\ \hline
tst\_strings2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_strings.c   &  &   &   & $\checkmark$    \\ \hline
tst\_sync.c   &  &   &   & $\checkmark$    \\ \hline
tst\_types.c   &  &   &   & $\checkmark$    \\ \hline
tst\_udf.c   &  &   &   & $\checkmark$    \\ \hline
tst\_unlim\_vars.c   &  &   &   & $\checkmark$    \\ \hline
tst\_utf8.c   &  &   &   & $\checkmark$    \\ \hline
tst\_v2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_varms.c   &  &   &   & $\checkmark$    \\ \hline
tst\_vars2.c   &  &   &   & $\checkmark$    \\ \hline
tst\_vars3.c   &  &   &   & $\checkmark$    \\ \hline
tst\_vars4.c   &  &   &   & $\checkmark$    \\ \hline
tst\_vars.c   &  &   &   & $\checkmark$    \\ \hline
tst\_vl.c   &  &   &   & $\checkmark$    \\ \hline
t\_type.c   &  &   &   & $\checkmark$    \\ \hline
\end{tabular}
\caption{List of nc\_test4 files.}
\end{table}

\begin{comment}

\section{Introduction}

\tab
The Earth System Data Middleware (ESDM) has been designed to deal with the fact that existing data libraries for standardised data description and optimised I/O, such as NetCDF, HDF5 and GRIB, do not have suitable performance-portable optimisations for large-scale simulation workflows in climate and weather.

This text provides an overview of the developed prototype for ESDM. From the application perspective, ESDM provides a data model that manages datasets in virtual containers with their metadata. Datasets are partitioned into fragments, that are stored via various data backends. The middleware operates these data autonomously, i.e., decides on the storage backend and exposes characterisations of the data centres, that are then used by backend plugins to perform the fitting segmentation and distribution of data to storage objects and fragments.

The developed prototype, which has a refined architecture design from the previous Deliverable (D4.2), implements the following key features:

\begin{itemize}

\item provides relaxed access semantics, tailored to scientific data generation for independent writes;

\item yields better performance via optimised data layout schemes;

\item understands application data structures and scientific metadata;

\item maps data structures flexibly to multiple storage backends with different performance characteristics based on site-specific configuration;

\item separates file metadata operations from data access, which enables the exploitation of acceleration techniques. With traditional NetCDF and GRIB data, the relevant application metadata and much of the information about actual data layout is invisible to the file system (whether parallel or serial); and

\item integrates with the NetCDF API as a subcomponent which allows applications to replace the standard NetCDF library with the ESDM supported library. By utilising standard tools belonging to the ESDM library, import/export files application between ESDM and NetCDF are now possible.

\end{itemize}

\begin{framed}

\# Run the project

\texttt{cd build}

\texttt{make -j 4 install}

\end{framed}

File \texttt{\_esdm.conf} has the configurations for the backends in ESDM.

\begin{framed}

Path: \texttt{esdm/src/test}

\begin{verbatim}
{
  "esdm":    {
     "backends": [
        {
           "type": "POSIX",
           "id": "p1",
           "target": "./_posix1"
        },
        {
           "type": "POSIX",
           "id": "p2",
           "target": "./_posix2"
        }
     ],
     "metadata": {
     "type": "metadummy",
     "name": "md",
     "target": "./_metadummy"
     }
  }
}
\end{verbatim}

\end{framed}

\end{comment}
